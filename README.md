<div align="center">

# ğŸ”– TMarks

**AI é©±åŠ¨çš„æ™ºèƒ½ä¹¦ç­¾ç®¡ç†ç³»ç»Ÿ**

[![TypeScript](https://img.shields.io/badge/TypeScript-5.6-blue.svg)](https://www.typescriptlang.org/)
[![React](https://img.shields.io/badge/React-18.3%20%7C%2019-61dafb.svg)](https://reactjs.org/)
[![Vite](https://img.shields.io/badge/Vite-6.0%20%7C%207-646cff.svg)](https://vitejs.dev/)
[![Cloudflare](https://img.shields.io/badge/Cloudflare-Workers-f38020.svg)](https://workers.cloudflare.com/)
[![è®¸å¯è¯](https://img.shields.io/badge/è®¸å¯è¯-MIT-green.svg)](LICENSE)

ç®€ä½“ä¸­æ–‡

[åœ¨çº¿æ¼”ç¤º](https://tmarks.669696.xyz) | [è§†é¢‘æ•™ç¨‹](https://bushutmarks.pages.dev/course/tmarks) | [é—®é¢˜åé¦ˆ](https://github.com/ai-tmarks/tmarks/issues) | [åŠŸèƒ½å»ºè®®](https://github.com/ai-tmarks/tmarks/discussions)

</div>

---

## âœ¨ é¡¹ç›®ç®€ä»‹

TMarks æ˜¯ä¸€ä¸ªç°ä»£åŒ–çš„æ™ºèƒ½ä¹¦ç­¾ç®¡ç†ç³»ç»Ÿï¼Œç»“åˆ AI æŠ€æœ¯è‡ªåŠ¨ç”Ÿæˆæ ‡ç­¾ï¼Œè®©ä¹¦ç­¾ç®¡ç†å˜å¾—ç®€å•é«˜æ•ˆã€‚

### æ ¸å¿ƒç‰¹æ€§

- ğŸ“š **æ™ºèƒ½ä¹¦ç­¾ç®¡ç†** - AIè‡ªåŠ¨æ ‡ç­¾ã€å¤šç»´ç­›é€‰ã€æ‰¹é‡æ“ä½œã€æ‹–æ‹½æ’åº
- ğŸ—‚ï¸ **æ ‡ç­¾é¡µç»„ç®¡ç†** - ä¸€é”®æ”¶çº³æ ‡ç­¾é¡µã€æ™ºèƒ½åˆ†ç»„ã€å¿«é€Ÿæ¢å¤
- ğŸŒ **å…¬å¼€åˆ†äº«** - åˆ›å»ºä¸ªæ€§åŒ–ä¹¦ç­¾å±•ç¤ºé¡µã€KVç¼“å­˜åŠ é€Ÿ
- ğŸ”Œ **æµè§ˆå™¨æ‰©å±•** - å¿«é€Ÿä¿å­˜ã€AIæ¨èã€ç¦»çº¿æ”¯æŒã€è‡ªåŠ¨åŒæ­¥
- ğŸ” **å®‰å…¨å¯é ** - JWTè®¤è¯ã€API Keyç®¡ç†ã€æ•°æ®åŠ å¯†

### æŠ€æœ¯æ ˆ

- **å‰ç«¯**: React 18/19 + TypeScript + Vite + TailwindCSS 4
- **åç«¯**: Cloudflare Workers + Pages Functions
- **æ•°æ®åº“**: Cloudflare D1 (SQLite)
- **ç¼“å­˜**: Cloudflare KV
- **å¿«ç…§å­˜å‚¨**: Cloudflare R2ï¼ˆå¯é€‰ï¼Œç”¨äºå­˜å‚¨ç½‘é¡µå¿«ç…§ HTML ä¸å›¾ç‰‡ï¼Œæ”¯æŒå…¨å±€ 7GB é…é¢é™åˆ¶ï¼‰
- **AIé›†æˆ**: æ”¯æŒ OpenAIã€Anthropicã€DeepSeekã€æ™ºè°±ç­‰ 8+ æä¾›å•†

---

## ğŸš€ å¿«é€Ÿå¼€å§‹

### æœ¬åœ°å¼€å‘

```bash
# 1. å…‹éš†é¡¹ç›®
git clone https://github.com/ai-tmarks/tmarks.git
cd tmarks

# 2. å®‰è£…ä¾èµ–
cd tmarks
pnpm install

# 3. åˆ›å»ºæ•°æ®åº“å¹¶è¿ç§»
wrangler d1 create tmarks-prod-db --local
pnpm db:migrate:local

# 4. å¯åŠ¨å¼€å‘æœåŠ¡å™¨
pnpm dev
# è®¿é—® http://localhost:5173
```

### æµè§ˆå™¨æ‰©å±•å¼€å‘

```bash
# 1. å®‰è£…ä¾èµ–
cd tab
pnpm install

# 2. å¯åŠ¨å¼€å‘æ¨¡å¼
pnpm dev

# 3. åŠ è½½æ‰©å±•
# Chrome: chrome://extensions/ â†’ å¼€å‘è€…æ¨¡å¼ â†’ åŠ è½½å·²è§£å‹çš„æ‰©å±•ç¨‹åº â†’ é€‰æ‹© tab/dist
# Firefox: about:debugging â†’ ä¸´æ—¶è½½å…¥é™„åŠ ç»„ä»¶ â†’ é€‰æ‹© tab/dist/manifest.json
```

---

## ğŸš€ éƒ¨ç½²

### ğŸ“¹ è§†é¢‘æ•™ç¨‹

**å®Œæ•´éƒ¨ç½²æ•™ç¨‹è§†é¢‘**: [ç‚¹å‡»è§‚çœ‹](https://bushutmarks.pages.dev/course/tmarks)

è·Ÿéšè§†é¢‘æ•™ç¨‹ï¼Œ3 åˆ†é’Ÿå®Œæˆéƒ¨ç½²ã€‚

---

### å¼€æºç”¨æˆ·ä¸€é¡µéƒ¨ç½²æŒ‡å—

**å‰ç½®æ¡ä»¶**
- æœ‰ Cloudflare è´¦å·
- æœ‰ GitHub è´¦å·

---

#### 1. è¿æ¥ä»“åº“å¹¶é…ç½®æ„å»º
1. åœ¨ GitHub ä¸Š Fork æœ¬ä»“åº“
2. æ‰“å¼€ Cloudflare Dashboard â†’ **Workers & Pages** â†’ **Pages** â†’ **åˆ›å»ºé¡¹ç›®**
3. é€‰æ‹©ã€Œè¿æ¥åˆ° Gitã€ï¼Œé€‰ä¸­ä½ çš„ Fork
4. æ„å»ºé…ç½®ï¼š
   - æ ¹ç›®å½•ï¼š`tmarks`
   - æ„å»ºå‘½ä»¤ï¼š`pnpm install && pnpm build:deploy`
   - æ„å»ºè¾“å‡ºç›®å½•ï¼š`.deploy`
5. ä¿å­˜å¹¶è§¦å‘ä¸€æ¬¡éƒ¨ç½²ï¼ˆç¬¬ä¸€æ¬¡å¤±è´¥æ²¡å…³ç³»ï¼Œåé¢ä¼šä¿®å¥½ï¼‰

#### 2. åˆ›å»º Cloudflare èµ„æº
1. **D1 æ•°æ®åº“ï¼ˆå¿…éœ€ï¼‰**
   - Workers & Pages â†’ **D1 SQL Database** â†’ Create database
   - åç§°ï¼š`tmarks-prod-db`
2. **KV å‘½åç©ºé—´ï¼ˆæ¨èï¼‰**
   - Workers & Pages â†’ **KV** â†’ Create a namespace
   - åç§°ï¼š`TMARKS_KV`
   - ä¸åˆ›å»ºä¹Ÿèƒ½è¿è¡Œï¼Œä½†ä¼šå¤±å» KV ç¼“å­˜å’Œé™æµä¿æŠ¤
3. **R2 å­˜å‚¨æ¡¶ï¼ˆå¯é€‰ï¼Œå¿«ç…§ç”¨ï¼‰**
   - R2 å¯¹è±¡å­˜å‚¨ â†’ åˆ›å»ºå­˜å‚¨æ¡¶
   - åç§°ï¼š`tmarks-snapshots`
   - ä¸åˆ›å»ºåˆ™å¿«ç…§åŠŸèƒ½ä¸å¯ç”¨ï¼Œä½†å…¶ä»–åŠŸèƒ½æ­£å¸¸

#### 3. åœ¨ Pages é¡¹ç›®ä¸­ç»‘å®šèµ„æº
è¿›å…¥ Pages é¡¹ç›® â†’ **è®¾ç½® â†’ å‡½æ•°**ï¼š

- D1 ç»‘å®šï¼š
  - æ–°å»º D1 ç»‘å®šï¼Œå˜é‡åï¼š`DB` â†’ é€‰æ‹© `tmarks-prod-db`
- KV ç»‘å®šï¼ˆå¦‚æœåˆ›å»ºäº† KVï¼‰ï¼š
  - æ–°å»º KV ç»‘å®šï¼Œå˜é‡åï¼š`TMARKS_KV` â†’ é€‰æ‹© `TMARKS_KV`
- R2 ç»‘å®šï¼ˆå¦‚æœåˆ›å»ºäº† R2ï¼‰ï¼š
  - æ–°å»º R2 ç»‘å®šï¼Œå˜é‡åï¼š`SNAPSHOTS_BUCKET` â†’ é€‰æ‹© `tmarks-snapshots`

> æ²¡æœ‰ KV / R2 æ—¶ï¼Œå¯ä»¥è·³è¿‡å¯¹åº”ç»‘å®šï¼Œåº”ç”¨ä»ç„¶å¯ä»¥å¯åŠ¨ã€‚

#### 4. é…ç½®ç¯å¢ƒå˜é‡
è¿›å…¥ Pages é¡¹ç›® â†’ **è®¾ç½® â†’ ç¯å¢ƒå˜é‡ï¼ˆç”Ÿäº§ç¯å¢ƒï¼‰**ï¼Œå»ºè®®é…ç½®ï¼š

- ä¸šåŠ¡ç›¸å…³ï¼š
  - `ALLOW_REGISTRATION`ï¼šæ˜¯å¦å…è®¸æ–°ç”¨æˆ·æ³¨å†Œï¼Œæ¨è "true"
    ï¼ˆè®¾ä¸ºé "true"â€”â€”åŒ…æ‹¬ "false" æˆ–ç•™ç©ºâ€”â€”éƒ½ä¼šå…³é—­æ³¨å†Œï¼›æ¨èçš„å…³é—­æ–¹å¼æ˜¯ **ç›´æ¥åˆ é™¤è¯¥å˜é‡**ï¼‰
  - `ENVIRONMENT`ï¼šè¿è¡Œç¯å¢ƒï¼Œç”Ÿäº§ç¯å¢ƒè®¾ä¸º `production`
  - `JWT_ACCESS_TOKEN_EXPIRES_IN`ï¼šè®¿é—® Token æœ‰æ•ˆæœŸï¼Œæ¨è `365d`
  - `JWT_REFRESH_TOKEN_EXPIRES_IN`ï¼šåˆ·æ–° Token æœ‰æ•ˆæœŸï¼Œæ¨è `365d`
- R2 ç›¸å…³ï¼ˆå¦‚æœå¯ç”¨å¿«ç…§ / å°é¢å›¾èµ° R2ï¼‰ï¼š
  - `R2_PUBLIC_URL`ï¼š**å¯é€‰**ï¼Œå°é¢å›¾ä½¿ç”¨ R2 å­˜å‚¨æ—¶çš„å¯¹å¤–è®¿é—®åŸŸåï¼ˆä¾‹å¦‚ `https://pub-xxxxx.r2.dev`ï¼‰ï¼›å¿«ç…§æœ¬èº«é€šè¿‡ API è®¿é—®ï¼Œä¸ä¾èµ–è¯¥å€¼
  - `R2_MAX_TOTAL_BYTES`ï¼šR2 æ€»å­˜å‚¨ä¸Šé™ï¼ˆå­—èŠ‚ï¼‰ï¼Œå¯é€‰ï¼›ä¸é…ç½®æˆ–è®¾ä¸º `0` / è´Ÿæ•° è¡¨ç¤ºä¸é™åˆ¶ï¼ˆå¦‚éœ€é™åˆ¶å¯æ‰‹åŠ¨è®¾ç½®ï¼Œä¾‹å¦‚çº¦ 7GiBï¼‰
- æ•æ„Ÿå˜é‡ï¼ˆ**åªåœ¨ Dashboard é‡Œé…ç½®ï¼Œåƒä¸‡ä¸è¦å†™å…¥ä»“åº“**ï¼‰ï¼š
  - `JWT_SECRET`ï¼šJWT ç­¾åå¯†é’¥ï¼ˆå»ºè®® â‰¥ 48 ä½éšæœºå­—ç¬¦ä¸²ï¼‰
  - `ENCRYPTION_KEY`ï¼šæ•°æ®åŠ å¯†å¯†é’¥ï¼ˆå»ºè®® â‰¥ 48 ä½éšæœºå­—ç¬¦ä¸²ï¼‰

> æœ¬åœ° / è‡ªæ‰˜ç®¡éƒ¨ç½²æ—¶ï¼Œå¯å‚è€ƒ `tmarks/wrangler.toml.example` ä¸­çš„ `[vars]` ç¤ºä¾‹ï¼Œä¸šåŠ¡é…ç½®å¯ç›´æ¥ç…§æŠ„ï¼Œæ•æ„Ÿå¯†é’¥ä»…åœ¨ Dashboard ä¸­å¡«å†™çœŸå®å€¼ã€‚

#### 5. åˆå§‹åŒ–æ•°æ®åº“
1. æ‰“å¼€ **Workers & Pages â†’ D1 SQL Database**
2. è¿›å…¥ `tmarks-prod-db` â†’ **Console**
3. æ‰“å¼€ä»“åº“ä¸­çš„
 â€œtmarks/migrations/0001_d1_console.sql
tmarks/migrations/0002_d1_console_ai_settings.sql
tmarks/migrations/0100_d1_console.sql
tmarks/migrations/0101_d1_console.sqlâ€
4. å¤åˆ¶å…¨éƒ¨ SQLï¼Œç²˜è´´åˆ°æ§åˆ¶å°ï¼Œç‚¹å‡» **Execute** æ‰§è¡Œ

#### 6. é‡æ–°éƒ¨ç½²
1. å›åˆ° Pages é¡¹ç›® â†’ éƒ¨ç½²
2. å¯¹ä¹‹å‰å¤±è´¥çš„éƒ¨ç½²ç‚¹å‡»ã€Œé‡è¯•ã€ï¼Œæˆ–æ¨é€ä»»æ„æäº¤é‡æ–°è§¦å‘
3. æ„å»ºæˆåŠŸåï¼Œå°±å¯ä»¥è®¿é—®ä½ çš„ TMarks ç«™ç‚¹äº† ğŸ‰

> ä¹‹åæ›´æ–°ï¼šåªè¦å¾€ GitHub æ¨ä»£ç ï¼ŒCloudflare ä¼šè‡ªåŠ¨é‡æ–°æ„å»ºå’Œéƒ¨ç½²ï¼Œä¹‹å‰é…ç½®çš„æ•°æ®åº“ / KV / R2 / ç¯å¢ƒå˜é‡éƒ½ä¸ä¼šä¸¢ã€‚
---


## ğŸ“„ è®¸å¯è¯


æœ¬é¡¹ç›®é‡‡ç”¨ [MIT License](LICENSE) å¼€æºåè®®ã€‚
